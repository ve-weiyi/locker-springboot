# iLocker

springboot 后端 使用多模块开发。各模块可拆卸式添加功能。各模块功能如下。  
locker-api： 启动模块  
locker-core： 核心模块.包含项目的基础配置  
locker-auth： 权限认证模块.使用security +jwt 认证框架  
locker-friends： 好友管理模块. 可添加好友，修改好友关系  
locker-privacy： 用户隐私存储管理模块. 添加、修改个人隐私，使用加密存储。  
locker-generator：mybatis plus 代码生成器  


接口文档地址:
https://ve77.cn/locker.html

## 后端使用技术栈
#### SpringBoot	    容器+MVC框架	  
#### SpringSecurity  认证和授权框架  
#### JWT	            JWT登录支持  
#### Swagger-UI	    文档生成工具  
#### Lombok	        简化对象封装工具  
#### MyBatisPlus	    数据库访问中间价  
#### AutoGenerator   数据库表对象自动生成
#### Kaptcha         验证码
#### RabbitMQ	    消息队列
#### Mysql           数据库
#### Redis	        分布式缓存  
#### WebSocket       即使聊天
#### FastDFS         数据上传
	
### 任务书
课题任务要求：  
设计和实现一款面向Android手机的个人隐私信息保密APP软件，实现个人银行账户及密码、邮件地址及密码、好友联系信息、web应用系统账户及密码等个人隐私信息的加密保存。  

课题内容：  
(1) 系统务必实现个人银行账户及密码、邮件地址及密码、好友联系信息、web应用系统账户及密码等个人隐私信息的加密保存，并能够对各个账户密码强度进行自动检测，如果检测达不到密码强度要求，提示用户重新设置。  
具体功能如下： 第一次启动该软件时，提示创建一个密码文件，并设置打开该文件的密码。然后进入该软件的应用窗口界面。  
提供个人应用系统（比如：淘宝、京东、美团、拼多多、良品铺子等等）用户账户管理功能：增删修改查  
提供个人银行账户管理功能：增删修改查  
提供个人邮件（一般每个人都有多个邮箱）地址管理功能：增删修改查  
提供好友资料（电话、地址、单位、qq、email、…..）管理功能：增删修改查  
个人其他资料（如护照号，社保号、驾照号、行车证号、车辆、会员号…..）的管理功能：增删修改查  

在设置各个账户的密码时，系统应提供自动生成密码的功能。同时也可以让用户自己输入自己设定的密码，但要
进行密码强度检测。进行密码强度检测。 在输入密码时应使用密码不可见方式。在查询时只显示开始的2个字符，其余的字符则不见。  
保存这些资料时，应采用加密方式保存。 第二次和以后再启动该软件时，必须提示输入主口令，才能打开缺省的密码文件进入系统页面；  
进入系统之后，还必须提供打开其他密码文件的功能，采取多重防护。也可以为用户提供多重防护的选项。    
(2) 自行设计一个文件结构（或者使用小型文件型数据库）保存系统将要保存的账户信息、密码等信息。  
(3) 编程实现与测试  

时间节点：  
1.开学第一周：  
-(1)完成开题报告  
-(2)外文论文翻译 6-8页 (RSA加密算法研究)  
2.开题答辩(3月初): 开题报告、PPT、论文引用  
3.中期检查(4月中)  
4.论文初稿(5月10日)  
5.答辩(6月初): 查重，文字复制比<12%  
##  后端搭建

###  数据库表设计
![img.png](img.png)

用户表存储用户基本个人信息。  
角色表标记用户拥有的权限(游客、普通用户、管理员...)。用户表与角色表是多对多关系，使用中介表 用户-角色表 关联。  
隐私信息表存储用户银行账号密码、邮箱账号，密码等隐私信息，该信息使用RSA加密后存入数据库，数据库中的表示非明文可见。  
秘钥表存储加密隐私信息时使用的公钥/私钥。该表非常重要。  

###  RSA加密原理
RSA加密解密实现  
原文地址： https://blog.csdn.net/hustpzb/article/details/72734578  
RSA公钥私钥提取 N、e、d这三个值  
原文地址： https://www.cnblogs.com/AloneSword/p/3326750.html  

算法实现过程为：  
1. 随意选择两个大的质数p和q，p不等于q，计算N=pq。  
2. 根据欧拉函数，不大于N且与N互质的整数個数為(p-1)(q-1)。  
3. 选择一个整数e与(p-1)(q-1)互质，并且e小于(p-1)(q-1)。  
4. 用以下这个公式计算d：d× e ≡ 1 (mod (p-1)(q-1))。   
5. 将p和q的记录销毁。 
以上内容中，(N,e)是公钥，(N,d)是私钥。  

BaseCode64 加密原理
* encodeBase64会对字符串3位一组自动补全，因而最后可能会出现 == 或者 =  
* 而encodeBase64URLSafe则是按照字符串实际位数进行加密，最后若为1位，则不补全，不会出现 == 或者 =  

* encodeBase64URLSafeString是说编码后在URL中使用是安全的，  
* 所谓安全是这种方式编码的时候会替换掉64个字符中的 ”+“替换成"-"，"/"替换成"_" ,"="替换成"" ，  
* 因为这两个字符在URL中有特殊含义，使用会出问题，也就是”不安全“，还有Base64本身和信息上的安全没有半点关系，  
